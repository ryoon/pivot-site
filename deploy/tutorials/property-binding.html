<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements.  See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to you under the Apache License,
Version 2.0 (the "License"); you may not use this file except in
compliance with the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
--><html xmlns="http://www.w3.org/1999/xhtml"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Property Binding | Apache Pivot</title><link href="/styles/pivot.css" rel="stylesheet" type="text/css"><script type="text/javascript">
                var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
                document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
                </script><script type="text/javascript">
                try {
                var pageTracker = _gat._getTracker("UA-7977275-3");
                pageTracker._trackPageview();
                } catch(err) {}</script></head><body><div id="wrapper"><div id="main"><div id="header"><div xmlns="" class="logo"><a href="/index.html"><img src="/images/logo.png" alt="Apache Pivot" title="Apache Pivot Homepage"></a></div><div class="tagline"><img src="/images/tagline.png" alt="Rich Internet Applications in Java" style="visibility:hidden"></div><ul class="navi"><li><a href="/demos/">Demos</a></li><li><a href="/download.cgi#2.0.1">Download</a></li><li><a href="/tutorials/">Tutorial</a></li><li><a href="/get-involved.html">Get Involved</a></li><li><a href="/about.html">About</a></li></ul></div><div id="contentBase" class="group"><h1>Property Binding</h1><ul class="naviLeft"><li><a href="/tutorials/sample-application.html">Sample Application</a></li><li><a href="/tutorials/platform-overview.html">Platform Overview</a></li><li><a href="/tutorials/hello-world.html">Hello, World!</a></li><li><a href="/tutorials/hello-bxml.html">Hello, BXML!</a></li><li><a href="/tutorials/component-and-container.html">Component &amp; Container</a></li><li><a href="/tutorials/labels-and-image-views.html">Labels &amp; Image Views</a></li><li><a href="/tutorials/svg-images.html">SVG Images</a></li><li><a href="/tutorials/buttons.html">Buttons</a></li><li><a href="/tutorials/push-buttons.html">Push Buttons</a></li><li><a href="/tutorials/toggle-buttons.html">Toggle Buttons</a></li><li><a href="/tutorials/radio-buttons.html">Radio Buttons</a></li><li><a href="/tutorials/checkboxes.html">Checkboxes</a></li><li><a href="/tutorials/link-buttons.html">Link Buttons</a></li><li><a href="/tutorials/lists.html">Lists</a></li><li><a href="/tutorials/list-buttons.html">List Buttons</a></li><li><a href="/tutorials/repeatable-list-buttons.html">Repeatable List Buttons</a></li><li><a href="/tutorials/text.html">Text</a></li><li><a href="/tutorials/suggestion-popups.html">Suggestion Popups</a></li><li><a href="/tutorials/text-areas.html">Text Areas</a></li><li><a href="/tutorials/separators.html">Separators</a></li><li><a href="/tutorials/layout-containers.html">Layout Containers</a></li><li><a href="/tutorials/flow-panes.html">Flow Panes</a></li><li><a href="/tutorials/box-panes.html">Box Panes</a></li><li><a href="/tutorials/fill-panes.html">Fill Panes</a></li><li><a href="/tutorials/grid-panes.html">Grid Panes</a></li><li><a href="/tutorials/table-panes.html">Table Panes</a></li><li><a href="/tutorials/borders.html">Borders</a></li><li><a href="/tutorials/stack-panes.html">Stack Panes</a></li><li><a href="/tutorials/split-panes.html">Split Panes</a></li><li><a href="/tutorials/forms.html">Forms</a></li><li><a href="/tutorials/panels.html">Panels</a></li><li><a href="/tutorials/navigation-containers.html">Navigation Containers</a></li><li><a href="/tutorials/card-panes.html">Card Panes</a></li><li><a href="/tutorials/tab-panes.html">Tab Panes</a></li><li><a href="/tutorials/accordions.html">Accordions</a></li><li><a href="/tutorials/expanders.html">Expanders</a></li><li><a href="/tutorials/rollups.html">Rollups</a></li><li><a href="/tutorials/viewports.html">Viewports</a></li><li><a href="/tutorials/scroll-panes.html">Scroll Panes</a></li><li><a href="/tutorials/panoramas.html">Panoramas</a></li><li><a href="/tutorials/progress-indicators.html">Progress Indicators</a></li><li><a href="/tutorials/meters.html">Meters</a></li><li><a href="/tutorials/activity-indicators.html">Activity Indicators</a></li><li><a href="/tutorials/bounded-range-components.html">Bounded Range Components</a></li><li><a href="/tutorials/sliders.html">Sliders</a></li><li><a href="/tutorials/scroll-bars.html">Scroll Bars</a></li><li><a href="/tutorials/spinners.html">Spinners</a></li><li><a href="/tutorials/calendars.html">Calendars</a></li><li><a href="/tutorials/menus.html">Menus</a></li><li><a href="/tutorials/context-menus.html">Context Menus</a></li><li><a href="/tutorials/menu-bars.html">Menu Bars</a></li><li><a href="/tutorials/menu-buttons.html">Menu Buttons</a></li><li><a href="/tutorials/color-choosers.html">Color Choosers</a></li><li><a href="/tutorials/table-views.html">Table Views</a></li><li><a href="/tutorials/table-views.json.html">JSON-based TableView</a></li><li><a href="/tutorials/table-views.custom.html">Custom TableView</a></li><li><a href="/tutorials/tree-views.html">Tree Views</a></li><li><a href="/tutorials/file-browsing.html">File Browsing</a></li><li><a href="/tutorials/windows.html">Windows</a></li><li><a href="/tutorials/clipboard.html">Clipboard</a></li><li><a href="/tutorials/drag-and-drop.html">Drag and Drop</a></li><li><a href="/tutorials/effects.html">Effects</a></li><li><a href="/tutorials/effects.transitions.html">Transitions</a></li><li><a href="/tutorials/data-binding.html">Data Binding</a></li><li><a href="/tutorials/property-binding.html">Property Binding</a></li><li><a href="/tutorials/localization.html">Localization</a></li><li><a href="/tutorials/background-tasks.html">Background Tasks</a></li><li><a href="/tutorials/web-queries.html">Web Queries</a></li><li><a href="/tutorials/query-servlet.html">QueryServlet</a></li><li><a href="/tutorials/scripting.html">Scripting</a></li><li><a href="/tutorials/summary.html">Summary</a></li><li><a href="/tutorials/stock-tracker.html">The "Stock Tracker" Application</a></li><li><a href="/tutorials/stock-tracker.ui.html">UI Markup Using BXML</a></li><li><a href="/tutorials/stock-tracker.events.html">Event Handling</a></li><li><a href="/tutorials/stock-tracker.web-queries.html">Web Queries</a></li><li><a href="/tutorials/stock-tracker.data-binding.html">Data Binding</a></li><li><a href="/tutorials/stock-tracker.localization.html">Localization</a></li><li><a href="/tutorials/bxml-primer.html">BXML Primer</a></li></ul><div class="content"><style type="text/css">
            applet {
                border: 1px solid #999999;
            }
        </style><!--NOTE: Syntax highlighting script is LGPL--><script type="text/javascript" src="http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js"></script><script type="text/javascript" src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushJava.js"></script><script type="text/javascript" src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushXml.js"></script><script type="text/javascript" src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushJScript.js"></script><link type="text/css" rel="stylesheet" href="http://alexgorbatchev.com/pub/sh/current/styles/shCore.css"><link type="text/css" rel="stylesheet" href="http://alexgorbatchev.com/pub/sh/current/styles/shThemeDefault.css"><script type="text/javascript">
            SyntaxHighlighter.all();
        </script><div class="section">
        <p>
            This application demonstrates Pivot's support for "property binding". This feature allows
            a caller to declaratively create a relationship between a source and target property such
            that changes to the source are automatically reflected in the target.
        </p>

        <script type="text/javascript" src="http://java.com/js/deployJava.js"></script><script type="text/javascript">
            
            var attributes = {
                code:"org.apache.pivot.wtk.BrowserApplicationContext$HostApplet",
                width:"480",
                height:"360"
            };

            
            

            
            var libraries = [];
            libraries.push("/lib/pivot-core-2.0.1.jar");
                libraries.push("/lib/pivot-wtk-2.0.1.jar");
                libraries.push("/lib/pivot-wtk-terra-2.0.1.jar");
                libraries.push("/lib/pivot-tutorials-2.0.1.jar");
                
                    libraries.push("/lib/svgSalamander-tiny.jar");
                

            attributes.archive = libraries.join(",");

            
            var parameters = {
                codebase_lookup:false,
                application_class_name:'org.apache.pivot.wtk.ScriptApplication'
            };

            
            var javaArguments = ["-Dsun.awt.noerasebackground=true",
                "-Dsun.awt.erasebackgroundonresize=true"];

            

            parameters.java_arguments = javaArguments.join(" ");

            
            
                var startupProperties = [];
                
                    startupProperties.push("src=/org/apache/pivot/tutorials/databinding/property_binding.bxml");
                
                parameters.startup_properties = startupProperties.join("&");
            

            deployJava.runApplet(attributes, parameters, "1.6");
        </script>

        <p>
            Property binding is most commonly used to establish a one-way relationship between a
            source and target value; however, as shown in the example, bi-directional bindings
            are also supported. Property relationships are established in markup using the following
            binding syntax:
        </p>

        <p>
            <i>targetProperty="${mappingFunction:sourceProperty}"</i>
        </p>

        <p>
            "mappingFunction" is an optional script function that can be used to transform a bound
            source value before it is applied to the target property. If omitted, the source value
            is simply applied to the target as-is.
        </p>

        <p>
            The BXML source for the example is shown below:
        </p>

        <pre class="brush:xml">
            
            &lt;databinding:PropertyBinding title="Property Binding" maximized="true"
                xmlns:bxml="http://pivot.apache.org/bxml"
                xmlns:databinding="org.apache.pivot.tutorials.databinding"
                xmlns="org.apache.pivot.wtk"&gt;
                &lt;bxml:script&gt;
                importClass(org.apache.pivot.tutorials.databinding.PropertyBinding);

                function toUpperCase(value) {
                    return value.toUpperCase();
                }

                function toHex(color) {
                    return PropertyBinding.toHex(color);
                }
                &lt;/bxml:script&gt;

                &lt;Border&gt;
                    &lt;Form&gt;
                        &lt;Form.Section heading="One-Way Binding"&gt;
                            &lt;TextInput bxml:id="textInput" Form.label="Text Input"/&gt;
                            &lt;Label Form.label="Text" text="${textInput.text}"/&gt;
                            &lt;Label Form.label="Uppercase Text" text="${toUpperCase:textInput.text}"/&gt;
                        &lt;/Form.Section&gt;

                        &lt;Form.Section heading="Two-Way Binding"&gt;
                            &lt;TextInput bxml:id="textInput1" Form.label="Text Input 1" text="${textInput2.text}"/&gt;
                            &lt;TextInput bxml:id="textInput2" Form.label="Text Input 2" text="${textInput1.text}"/&gt;
                        &lt;/Form.Section&gt;

                        &lt;Form.Section heading="Style Binding"&gt;
                            &lt;ColorChooserButton bxml:id="colorChooserButton" Form.label="Color Chooser Button"
                                selectedColor="#000000"/&gt;
                            &lt;Label Form.label="Selected Color" text="${colorChooserButton.selectedColor}"&gt;
                                &lt;styles color="${colorChooserButton.selectedColor}"/&gt;
                            &lt;/Label&gt;
                            &lt;Label Form.label="Selected Color (Hex)" text="${toHex:colorChooserButton.selectedColor}"&gt;
                                &lt;styles color="${toHex:colorChooserButton.selectedColor}"/&gt;
                            &lt;/Label&gt;
                        &lt;/Form.Section&gt;

                        &lt;Form.Section heading="Manual Binding"&gt;
                            &lt;ListButton bxml:id="listButton" Form.label="List Button"
                                listData="['Zero', 'One', 'Two', 'Three']" selectedIndex="0"/&gt;
                            &lt;Label bxml:id="listButtonLabel1" Form.label="Selected Item"/&gt;
                            &lt;Label bxml:id="listButtonLabel2" Form.label="Uppercase Selected Item"/&gt;
                        &lt;/Form.Section&gt;
                    &lt;/Form&gt;
                &lt;/Border&gt;
            &lt;/databinding:PropertyBinding&gt;
            
        </pre>

        <p>
            Note the use of mapping functions to transform the "textInput.text" property to
            all caps before applying it to the bound label. Similarly, a mapping function is used
            to transform the "selectedColor" property of the ColorChooserButton to a hex string
            so it can be used as the value for the "color" style of the selected color label.
        </p>

        <p>
            Bindings are not limited to BXML - they can also be defined programmatically. For
            example, the "manual binding" shown in the demo is constructed in Java code as shown
            in the <tt>initialize()</tt> method below:
        </p>

        <pre class="brush:java">
            
            package org.apache.pivot.tutorials.databinding;

            import java.awt.Color;
            import java.net.URL;

            import org.apache.pivot.beans.Bindable;
            import org.apache.pivot.beans.NamespaceBinding;
            import org.apache.pivot.collections.Map;
            import org.apache.pivot.util.Resources;
            import org.apache.pivot.wtk.Window;

            public class PropertyBinding extends Window implements Bindable {
                @Override
                public void initialize(Map&lt;String, Object&gt; namespace, URL location, Resources resources) {
                    // Bind list button selection to label text
                    NamespaceBinding namespaceBinding1 = new NamespaceBinding(namespace,
                        "listButton.selectedItem", "listButtonLabel1.text");

                    namespaceBinding1.bind();

                    // Bind list button selection to label text with bind mapping
                    NamespaceBinding namespaceBinding2 = new NamespaceBinding(namespace,
                        "listButton.selectedItem", "listButtonLabel2.text", new NamespaceBinding.BindMapping() {
                        @Override
                        public Object evaluate(Object value) {
                            return value.toString().toUpperCase();
                        }
                    });

                    namespaceBinding2.bind();
                }

                public static String toHex(Color color) {
                    return String.format("#%02X%02X%02X", color.getRed(), color.getBlue(), color.getGreen());
                }
            }
            
        </pre>

        <p>
            The primary advantage to creating a binding relationship in code is that it can be
            "unbound" when it is no longer needed; once established, bindings defined in BXML cannot
            be removed.
        </p>
    </div><p>Next: <a href="localization.html">Localization</a></p></div></div></div><div id="footer" class="group"><div class="footerLogo">Copyright (c) 1999-2012<br>The Apache Software Foundation.</div><div class="footerLinks"><ul class="footerMenuGr"><li><strong>Demos</strong><ul><li><a href="/demos/kitchen-sink.html" target="_new">"Kitchen Sink"</a></li><li><a href="/demos/component-explorer.html" target="_new">Component Explorer</a></li><li><a href="http://cwiki.apache.org/confluence/display/PIVOT/Other+Demos" target="_new">Charting</a></li><li><a href="/demos/">More Demos</a></li></ul></li><li><strong>Documentation</strong><ul><li><a href="/getting-started.html">Getting Started</a></li><li><a href="/tutorials/">Tutorial</a></li><li><a href="/faq.html">FAQ</a></li><li><a href="/2.0.1/docs/api/">Javadoc (2.0.1)</a></li></ul></li><li><strong>Get Involved</strong><ul><li><a href="/svn.html">SVN Repositories</a></li><li><a href="/lists.html">Mailing Lists</a></li><li><a href="http://issues.apache.org/jira/browse/PIVOT">Bug Database</a></li><li><a href="http://cwiki.apache.org/PIVOT/">Wiki</a></li></ul></li><li><strong>Related</strong><ul><li><a href="http://code.google.com/a/apache-extras.org/p/pivot-jfree/">JFreeChart Provider</a></li><li><a href="http://code.google.com/a/apache-extras.org/p/pivot-common/">Pivot-Common</a></li><li><a href="http://code.google.com/a/apache-extras.org/p/pivot-contrib/">Pivot-Contrib</a></li><li><a href="http://code.google.com/a/apache-extras.org/p/pivot-multilang/">Pivot-Multilang</a></li></ul></li><li><strong>About</strong><ul><li><a href="/who-we-are.html">Who We Are</a></li><li><a href="/contact.html">Contact</a></li><li><a href="http://cwiki.apache.org/confluence/display/PIVOT/News">News</a></li><li><a href="/legal.html">Legal/License</a></li></ul></li></ul></div><div class="footerLinks">
                	Apache Pivot is a trademark of the Apache Software Foundation
                </div></div></div></body></html>