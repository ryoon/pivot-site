<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements.  See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to you under the Apache License,
Version 2.0 (the "License"); you may not use this file except in
compliance with the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
--><html xmlns="http://www.w3.org/1999/xhtml"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>File Browsing | Apache Pivot</title><link href="/styles/pivot.css" rel="stylesheet" type="text/css"><link href="/styles/pivot_print.css" rel="stylesheet" type="text/css" media="print"><script type="text/javascript">
                var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
                document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
                </script><script type="text/javascript">
                try {
                var pageTracker = _gat._getTracker("UA-7977275-3");
                pageTracker._trackPageview();
                } catch(err) {
				}
				</script></head><body><div id="wrapper"><div id="main"><div id="header"><div xmlns="" class="logo"><a href="/index.html"><img src="/images/logo.png" alt="Apache Pivot" title="Apache Pivot Homepage"></a></div><div class="logoASF"><a href="http://www.apache.org/"><img src="/images/asf_logo_wide_transp.png" alt="Apache" title="Apache Homepage"></a></div><div class="tagline"><img src="/images/tagline.png" alt="Rich Internet Applications in Java" style="visibility:hidden"></div><ul class="navi"><li><a href="/demos/">Demos</a></li><li><a href="/download.cgi#2.0.2">Download</a></li><li><a href="/tutorials/">Tutorial</a></li><li><a href="/get-involved.html">Get Involved</a></li><li><a href="/about.html">About</a></li></ul></div><div id="contentBase" class="group"><h1>File Browsing</h1><ul class="naviLeft"><li><a href="/tutorials/sample-application.html">Sample Application</a></li><li><a href="/tutorials/platform-overview.html">Platform Overview</a></li><li><a href="/tutorials/hello-world.html">Hello, World!</a></li><li><a href="/tutorials/hello-bxml.html">Hello, BXML!</a></li><li><a href="/tutorials/component-and-container.html">Component &amp; Container</a></li><li><a href="/tutorials/labels-and-image-views.html">Labels &amp; Image Views</a></li><li><a href="/tutorials/svg-images.html">SVG Images</a></li><li><a href="/tutorials/buttons.html">Buttons</a></li><li><a href="/tutorials/push-buttons.html">Push Buttons</a></li><li><a href="/tutorials/toggle-buttons.html">Toggle Buttons</a></li><li><a href="/tutorials/radio-buttons.html">Radio Buttons</a></li><li><a href="/tutorials/checkboxes.html">Checkboxes</a></li><li><a href="/tutorials/link-buttons.html">Link Buttons</a></li><li><a href="/tutorials/lists.html">Lists</a></li><li><a href="/tutorials/list-buttons.html">List Buttons</a></li><li><a href="/tutorials/repeatable-list-buttons.html">Repeatable List Buttons</a></li><li><a href="/tutorials/text.html">Text</a></li><li><a href="/tutorials/suggestion-popups.html">Suggestion Popups</a></li><li><a href="/tutorials/text-areas.html">Text Areas</a></li><li><a href="/tutorials/separators.html">Separators</a></li><li><a href="/tutorials/layout-containers.html">Layout Containers</a></li><li><a href="/tutorials/flow-panes.html">Flow Panes</a></li><li><a href="/tutorials/box-panes.html">Box Panes</a></li><li><a href="/tutorials/fill-panes.html">Fill Panes</a></li><li><a href="/tutorials/grid-panes.html">Grid Panes</a></li><li><a href="/tutorials/table-panes.html">Table Panes</a></li><li><a href="/tutorials/borders.html">Borders</a></li><li><a href="/tutorials/stack-panes.html">Stack Panes</a></li><li><a href="/tutorials/split-panes.html">Split Panes</a></li><li><a href="/tutorials/forms.html">Forms</a></li><li><a href="/tutorials/panels.html">Panels</a></li><li><a href="/tutorials/navigation-containers.html">Navigation Containers</a></li><li><a href="/tutorials/card-panes.html">Card Panes</a></li><li><a href="/tutorials/tab-panes.html">Tab Panes</a></li><li><a href="/tutorials/accordions.html">Accordions</a></li><li><a href="/tutorials/expanders.html">Expanders</a></li><li><a href="/tutorials/rollups.html">Rollups</a></li><li><a href="/tutorials/viewports.html">Viewports</a></li><li><a href="/tutorials/scroll-panes.html">Scroll Panes</a></li><li><a href="/tutorials/panoramas.html">Panoramas</a></li><li><a href="/tutorials/progress-indicators.html">Progress Indicators</a></li><li><a href="/tutorials/meters.html">Meters</a></li><li><a href="/tutorials/activity-indicators.html">Activity Indicators</a></li><li><a href="/tutorials/bounded-range-components.html">Bounded Range Components</a></li><li><a href="/tutorials/sliders.html">Sliders</a></li><li><a href="/tutorials/scroll-bars.html">Scroll Bars</a></li><li><a href="/tutorials/spinners.html">Spinners</a></li><li><a href="/tutorials/calendars.html">Calendars</a></li><li><a href="/tutorials/menus.html">Menus</a></li><li><a href="/tutorials/context-menus.html">Context Menus</a></li><li><a href="/tutorials/menu-bars.html">Menu Bars</a></li><li><a href="/tutorials/menu-buttons.html">Menu Buttons</a></li><li><a href="/tutorials/color-choosers.html">Color Choosers</a></li><li><a href="/tutorials/table-views.html">Table Views</a></li><li><a href="/tutorials/table-views.json.html">JSON-based TableView</a></li><li><a href="/tutorials/table-views.custom.html">Custom TableView</a></li><li><a href="/tutorials/tree-views.html">Tree Views</a></li><li><a href="/tutorials/file-browsing.html">File Browsing</a></li><li><a href="/tutorials/windows.html">Windows</a></li><li><a href="/tutorials/clipboard.html">Clipboard</a></li><li><a href="/tutorials/drag-and-drop.html">Drag and Drop</a></li><li><a href="/tutorials/effects.html">Effects</a></li><li><a href="/tutorials/effects.transitions.html">Transitions</a></li><li><a href="/tutorials/data-binding.html">Data Binding</a></li><li><a href="/tutorials/property-binding.html">Property Binding</a></li><li><a href="/tutorials/localization.html">Localization</a></li><li><a href="/tutorials/background-tasks.html">Background Tasks</a></li><li><a href="/tutorials/web-queries.html">Web Queries</a></li><li><a href="/tutorials/query-servlet.html">QueryServlet</a></li><li><a href="/tutorials/scripting.html">Scripting</a></li><li><a href="/tutorials/summary.html">Summary</a></li><li><a href="/tutorials/stock-tracker.html">The "Stock Tracker" Application</a></li><li><a href="/tutorials/stock-tracker.ui.html">UI Markup Using BXML</a></li><li><a href="/tutorials/stock-tracker.events.html">Event Handling</a></li><li><a href="/tutorials/stock-tracker.web-queries.html">Web Queries</a></li><li><a href="/tutorials/stock-tracker.data-binding.html">Data Binding</a></li><li><a href="/tutorials/stock-tracker.localization.html">Localization</a></li><li><a href="/tutorials/bxml-primer.html">BXML Primer</a></li></ul><div class="content"><style type="text/css">
            applet {
                border: 1px solid #999999;
            }
        </style><!--NOTE: Syntax highlighting script is LGPL--><script type="text/javascript" src="http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js"></script><script type="text/javascript" src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushJava.js"></script><script type="text/javascript" src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushXml.js"></script><script type="text/javascript" src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushJScript.js"></script><link type="text/css" rel="stylesheet" href="http://alexgorbatchev.com/pub/sh/current/styles/shCore.css"><link type="text/css" rel="stylesheet" href="http://alexgorbatchev.com/pub/sh/current/styles/shThemeDefault.css"><script type="text/javascript">
            SyntaxHighlighter.all();
        </script><div class="section">
        <p>
            Pivot includes support for easily adding local file system access to an application.
            The following example demonstrates the use of the <tt>FileBrowserSheet</tt> class:
        </p>

        <script type="text/javascript" src="http://java.com/js/deployJava.js"></script><script type="text/javascript">
            
            var attributes = {
                code:"org.apache.pivot.wtk.BrowserApplicationContext$HostApplet",
                width:"640",
                height:"480"
            };

            
            

            
            var libraries = [];
            libraries.push("/lib/pivot-core-2.0.2.signed.jar");
                libraries.push("/lib/pivot-wtk-2.0.2.signed.jar");
                libraries.push("/lib/pivot-wtk-terra-2.0.2.signed.jar");
                libraries.push("/lib/pivot-tutorials-2.0.2.signed.jar");
                
                    libraries.push("/lib/svgSalamander-tiny.signed.jar");
                

            attributes.archive = libraries.join(",");

            
            var parameters = {
                codebase_lookup:false,
                application_class_name:'org.apache.pivot.wtk.ScriptApplication'
            };

            
            var javaArguments = ["-Dsun.awt.noerasebackground=true",
                "-Dsun.awt.erasebackgroundonresize=true"];

            

            parameters.java_arguments = javaArguments.join(" ");

            
            
                var startupProperties = [];
                
                    startupProperties.push("src=/org/apache/pivot/tutorials/filebrowsing/file_browsing.bxml");
                
                parameters.startup_properties = startupProperties.join("&");
            

            deployJava.runApplet(attributes, parameters, "1.6");
        </script>

        <p>
            It allows the user to browse the local file system using one of four supported modes:
        </p>

        <ul>
            <li><p><b>Open</b> - select a single file to open</p></li>
            <li><p><b>Open Multiple</b> - select multiple files to open</p></li>
            <li><p><b>Save As</b> - select a file name to save as</p></li>
            <li><p><b>Save To</b> - select a folder to save to</p></li>
        </ul>

        <p>
            The BXML source for the application is as follows:
        </p>

        <pre class="brush:xml">
            
            &lt;filebrowsing:FileBrowsing title="File Browsing" maximized="true"
                xmlns:bxml="http://pivot.apache.org/bxml"
                xmlns:filebrowsing="org.apache.pivot.tutorials.filebrowsing"
                xmlns="org.apache.pivot.wtk"&gt;
                &lt;bxml:define&gt;
                    &lt;ButtonGroup bxml:id="fileBrowserSheetModeGroup"/&gt;
                &lt;/bxml:define&gt;

                &lt;Border styles="{padding:6}"&gt;
                    &lt;BoxPane orientation="vertical" styles="{spacing:6}"&gt;
                        &lt;Label text="Mode:" styles="{font:{bold:true}}"/&gt;

                        &lt;RadioButton buttonData="Open" buttonGroup="$fileBrowserSheetModeGroup" selected="true"&gt;
                            &lt;userData mode="open"/&gt;
                        &lt;/RadioButton&gt;
                        &lt;RadioButton buttonData="Open Multiple" buttonGroup="$fileBrowserSheetModeGroup"&gt;
                            &lt;userData mode="open_multiple"/&gt;
                        &lt;/RadioButton&gt;
                        &lt;RadioButton buttonData="Save As" buttonGroup="$fileBrowserSheetModeGroup"&gt;
                            &lt;userData mode="save_as"/&gt;
                        &lt;/RadioButton&gt;
                        &lt;RadioButton buttonData="Save To" buttonGroup="$fileBrowserSheetModeGroup"&gt;
                            &lt;userData mode="save_to"/&gt;
                        &lt;/RadioButton&gt;

                        &lt;PushButton bxml:id="openSheetButton" buttonData="Open Sheet"/&gt;
                    &lt;/BoxPane&gt;
                &lt;/Border&gt;
            &lt;/filebrowsing:FileBrowsing&gt;
            
        </pre>

        <p>
            The Java source code is shown below. When the user presses the "Open Sheet" button,
            it creates a <tt>FileBrowserSheet</tt> using the selected mode and opens the sheet.
            When the sheet is closed, it simply displays an alert to the user reflecting the
            selection:
        </p>

        <pre class="brush:java">
            
            package org.apache.pivot.tutorials.filebrowsing;

            import java.io.File;
            import java.net.URL;

            import org.apache.pivot.beans.BXML;
            import org.apache.pivot.beans.Bindable;
            import org.apache.pivot.collections.ArrayList;
            import org.apache.pivot.collections.Map;
            import org.apache.pivot.collections.Sequence;
            import org.apache.pivot.util.Resources;
            import org.apache.pivot.wtk.Alert;
            import org.apache.pivot.wtk.Button;
            import org.apache.pivot.wtk.ButtonGroup;
            import org.apache.pivot.wtk.ButtonPressListener;
            import org.apache.pivot.wtk.FileBrowserSheet;
            import org.apache.pivot.wtk.ListView;
            import org.apache.pivot.wtk.MessageType;
            import org.apache.pivot.wtk.PushButton;
            import org.apache.pivot.wtk.Sheet;
            import org.apache.pivot.wtk.SheetCloseListener;
            import org.apache.pivot.wtk.Window;

            public class FileBrowsing extends Window implements Bindable {
                @BXML private ButtonGroup fileBrowserSheetModeGroup = null;
                @BXML private PushButton openSheetButton = null;

                @Override
                public void initialize(Map&lt;String, Object&gt; namespace, URL location, Resources resources) {
                    openSheetButton.getButtonPressListeners().add(new ButtonPressListener() {
                        @Override
                        public void buttonPressed(Button button) {
                            Button selection = fileBrowserSheetModeGroup.getSelection();

                            String mode = (String)selection.getUserData().get("mode");
                            FileBrowserSheet.Mode fileBrowserSheetMode = FileBrowserSheet.Mode.valueOf(mode.toUpperCase());
                            final FileBrowserSheet fileBrowserSheet = new FileBrowserSheet();

                            if (fileBrowserSheetMode == FileBrowserSheet.Mode.SAVE_AS) {
                                fileBrowserSheet.setSelectedFile(new File(fileBrowserSheet.getRootDirectory(), "New File"));
                            }

                            fileBrowserSheet.setMode(fileBrowserSheetMode);
                            fileBrowserSheet.open(FileBrowsing.this, new SheetCloseListener() {
                                @Override
                                public void sheetClosed(Sheet sheet) {
                                    if (sheet.getResult()) {
                                        Sequence&lt;File&gt; selectedFiles = fileBrowserSheet.getSelectedFiles();

                                        ListView listView = new ListView();
                                        listView.setListData(new ArrayList&lt;File&gt;(selectedFiles));
                                        listView.setSelectMode(ListView.SelectMode.NONE);
                                        listView.getStyles().put("backgroundColor", null);

                                        Alert.alert(MessageType.INFO, "You selected:", listView, FileBrowsing.this);
                                    } else {
                                        Alert.alert(MessageType.INFO, "You didn't select anything.", FileBrowsing.this);
                                    }
                                }
                            });
                        }
                    });
                }
            }
            
        </pre>

        <p>
            Note that, internally, <tt>FileBrowserSheet</tt> uses an instance of the
            <tt>org.apache.pivot.wtk.FileBrowser</tt> class to perform the actual file system
            navigation. It is actually possible to use this component directly within an
            application to create a custom file browser; however, a discussion of the
            <tt>FileBrowser</tt> class is outside the scope of this tutorial.
        </p>
    </div><p>Next: <a href="windows.html">Windows</a></p></div></div></div><div id="footer" class="group"><div class="footerLogo">Copyright (c) 1999-2012<br>The Apache Software Foundation.</div><div class="footerLinks"><ul class="footerMenuGr"><li><strong>Demos</strong><ul><li><a href="/demos/kitchen-sink.html" target="_new">"Kitchen Sink"</a></li><li><a href="/demos/component-explorer.html" target="_new">Component Explorer</a></li><li><a href="http://cwiki.apache.org/confluence/display/PIVOT/Other+Demos" target="_new">Charting</a></li><li><a href="/demos/">More Demos</a></li></ul></li><li><strong>Documentation</strong><ul><li><a href="/getting-started.html">Getting Started</a></li><li><a href="/tutorials/">Tutorial</a></li><li><a href="/faq.html">FAQ</a></li><li><a href="/2.0.2/docs/api/">Javadoc (2.0.2)</a></li></ul></li><li><strong>Get Involved</strong><ul><li><a href="/svn.html">SVN Repositories</a></li><li><a href="/lists.html">Mailing Lists</a></li><li><a href="http://issues.apache.org/jira/browse/PIVOT">Bug Database</a></li><li><a href="http://cwiki.apache.org/PIVOT/">Wiki</a></li></ul></li><li><strong>Related</strong><ul><li><a href="http://code.google.com/a/apache-extras.org/p/pivot-jfree/">JFreeChart Provider</a></li><li><a href="http://code.google.com/a/apache-extras.org/p/pivot-common/">Pivot-Common</a></li><li><a href="http://code.google.com/a/apache-extras.org/p/pivot-contrib/">Pivot-Contrib</a></li><li><a href="http://code.google.com/a/apache-extras.org/p/pivot-multilang/">Pivot-Multilang</a></li><li><a href="http://code.google.com/a/apache-extras.org/p/pivot-stuff/">Pivot-Stuff</a></li></ul></li><li><strong>About</strong><ul><li><a href="/who-we-are.html">Who We Are</a></li><li><a href="/contact.html">Contact</a></li><li><a href="http://www.apache.org/">Apache Home</a></li><li><a href="/legal.html">Legal/License</a></li><li><a href="http://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li><li><a href="http://www.apache.org/foundation/thanks.html">Thanks</a></li></ul></li></ul></div><div class="footerLinks">
                	Apache Pivot, Pivot, Apache, and the Apache Pivot project logo are trademarks of The Apache Software Foundation.
                </div></div></div></body></html>