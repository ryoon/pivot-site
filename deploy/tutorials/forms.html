<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements.  See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to you under the Apache License,
Version 2.0 (the "License"); you may not use this file except in
compliance with the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
--><html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type" /><title>Forms | Apache Pivot</title><link xmlns="" type="text/css" rel="stylesheet" href="/~tvolkert/tmp/site/styles/pivot.css"><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
                document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
                </script><script type="text/javascript">
                try {
                var pageTracker = _gat._getTracker("UA-7977275-3");
                pageTracker._trackPageview();
                } catch(err) {}</script></head><body><div xmlns="" id="wrapper"><div id="main"><div id="header"><div class="logo"><a href="/~tvolkert/tmp/site/index.html"><img title="Apache Pivot Homepage" alt="Apache Pivot" src="/~tvolkert/tmp/site/images/logo.png"></a></div><div class="tagline"><img alt="Rich Internet Applications (RIA) in Java (tm)" src="/~tvolkert/tmp/site/images/tagline.png"></div><ul class="navi"><li><a href="/~tvolkert/tmp/site/demos/">Demos</a></li><li><a href="/~tvolkert/tmp/site/download.cgi#1.4">Download</a></li><li><a href="/~tvolkert/tmp/site/documentation.html">Documentation</a></li><li><a href="/~tvolkert/tmp/site/get-involved.html">Get Involved</a></li><li><a href="/~tvolkert/tmp/site/about.html">About</a></li></ul></div><div class="group" id="contentBase"><h1>Forms</h1><ul class="naviLeft"><li><a href="/~tvolkert/tmp/site/tutorials/sample-application.html">Sample Application</a></li><li><a href="/~tvolkert/tmp/site/tutorials/platform-overview.html">Platform Overview</a></li><li><a href="/~tvolkert/tmp/site/tutorials/hello-world.html">Hello, World!</a></li><li><a href="/~tvolkert/tmp/site/tutorials/hello-wtkx.html">Hello, WTKX!</a></li><li><a href="/~tvolkert/tmp/site/tutorials/component-and-container.html">Component &amp; Container</a></li><li><a href="/~tvolkert/tmp/site/tutorials/labels-and-image-views.html">Labels &amp; Image Views</a></li><li><a href="/~tvolkert/tmp/site/tutorials/buttons.html">Buttons</a></li><li><a href="/~tvolkert/tmp/site/tutorials/push-buttons.html">Push Buttons</a></li><li><a href="/~tvolkert/tmp/site/tutorials/toggle-buttons.html">Toggle Buttons</a></li><li><a href="/~tvolkert/tmp/site/tutorials/radio-buttons.html">Radio Buttons</a></li><li><a href="/~tvolkert/tmp/site/tutorials/checkboxes.html">Checkboxes</a></li><li><a href="/~tvolkert/tmp/site/tutorials/link-buttons.html">Link Buttons</a></li><li><a href="/~tvolkert/tmp/site/tutorials/lists.html">Lists</a></li><li><a href="/~tvolkert/tmp/site/tutorials/list-buttons.html">List Buttons</a></li><li><a href="/~tvolkert/tmp/site/tutorials/text.html">Text</a></li><li><a href="/~tvolkert/tmp/site/tutorials/text-areas.html">Text Areas</a></li><li><a href="/~tvolkert/tmp/site/tutorials/separators.html">Separators</a></li><li><a href="/~tvolkert/tmp/site/tutorials/layout-containers.html">Layout Containers</a></li><li><a href="/~tvolkert/tmp/site/tutorials/flow-panes.html">Flow Panes</a></li><li><a href="/~tvolkert/tmp/site/tutorials/box-panes.html">Box Panes</a></li><li><a href="/~tvolkert/tmp/site/tutorials/grid-panes.html">Grid Panes</a></li><li><a href="/~tvolkert/tmp/site/tutorials/table-panes.html">Table Panes</a></li><li><a href="/~tvolkert/tmp/site/tutorials/borders.html">Borders</a></li><li><a href="/~tvolkert/tmp/site/tutorials/stack-panes.html">Stack Panes</a></li><li><a href="/~tvolkert/tmp/site/tutorials/split-panes.html">Split Panes</a></li><li><a href="/~tvolkert/tmp/site/tutorials/forms.html">Forms</a></li><li><a href="/~tvolkert/tmp/site/tutorials/panels.html">Panels</a></li><li><a href="/~tvolkert/tmp/site/tutorials/navigation-containers.html">Navigation Containers</a></li><li><a href="/~tvolkert/tmp/site/tutorials/card-panes.html">Card Panes</a></li><li><a href="/~tvolkert/tmp/site/tutorials/tab-panes.html">Tab Panes</a></li><li><a href="/~tvolkert/tmp/site/tutorials/accordions.html">Accordions</a></li><li><a href="/~tvolkert/tmp/site/tutorials/expanders.html">Expanders</a></li><li><a href="/~tvolkert/tmp/site/tutorials/rollups.html">Rollups</a></li><li><a href="/~tvolkert/tmp/site/tutorials/viewports.html">Viewports</a></li><li><a href="/~tvolkert/tmp/site/tutorials/scroll-panes.html">Scroll Panes</a></li><li><a href="/~tvolkert/tmp/site/tutorials/panoramas.html">Panoramas</a></li><li><a href="/~tvolkert/tmp/site/tutorials/progress-indicators.html">Progress Indicators</a></li><li><a href="/~tvolkert/tmp/site/tutorials/meters.html">Meters</a></li><li><a href="/~tvolkert/tmp/site/tutorials/activity-indicators.html">Activity Indicators</a></li><li><a href="/~tvolkert/tmp/site/tutorials/bounded-range-components.html">Bounded Range Components</a></li><li><a href="/~tvolkert/tmp/site/tutorials/sliders.html">Sliders</a></li><li><a href="/~tvolkert/tmp/site/tutorials/scroll-bars.html">Scroll Bars</a></li><li><a href="/~tvolkert/tmp/site/tutorials/spinners.html">Spinners</a></li><li><a href="/~tvolkert/tmp/site/tutorials/calendars.html">Calendars</a></li><li><a href="/~tvolkert/tmp/site/tutorials/menus.html">Menus</a></li><li><a href="/~tvolkert/tmp/site/tutorials/context-menus.html">Context Menus</a></li><li><a href="/~tvolkert/tmp/site/tutorials/menu-bars.html">Menu Bars</a></li><li><a href="/~tvolkert/tmp/site/tutorials/menu-buttons.html">Menu Buttons</a></li><li><a href="/~tvolkert/tmp/site/tutorials/color-choosers.html">Color Choosers</a></li><li><a href="/~tvolkert/tmp/site/tutorials/table-views.html">Table Views</a></li><li><a href="/~tvolkert/tmp/site/tutorials/table-views.json.html">JSON-based TableView</a></li><li><a href="/~tvolkert/tmp/site/tutorials/table-views.custom.html">Custom TableView</a></li><li><a href="/~tvolkert/tmp/site/tutorials/tree-views.html">Tree Views</a></li><li><a href="/~tvolkert/tmp/site/tutorials/file-browsing.html">File Browsing</a></li><li><a href="/~tvolkert/tmp/site/tutorials/windows.html">Windows</a></li><li><a href="/~tvolkert/tmp/site/tutorials/clipboard.html">Clipboard</a></li><li><a href="/~tvolkert/tmp/site/tutorials/drag-and-drop.html">Drag and Drop</a></li><li><a href="/~tvolkert/tmp/site/tutorials/drawing.html">Drawing</a></li><li><a href="/~tvolkert/tmp/site/tutorials/effects.html">Effects</a></li><li><a href="/~tvolkert/tmp/site/tutorials/effects.transitions.html">Transitions</a></li><li><a href="/~tvolkert/tmp/site/tutorials/background-tasks.html">Background Tasks</a></li><li><a href="/~tvolkert/tmp/site/tutorials/web-queries.html">Web Queries</a></li><li><a href="/~tvolkert/tmp/site/tutorials/data-binding.html">Data Binding</a></li><li><a href="/~tvolkert/tmp/site/tutorials/localization.html">Localization</a></li><li><a href="/~tvolkert/tmp/site/tutorials/scripting.html">Scripting</a></li><li><a href="/~tvolkert/tmp/site/tutorials/summary.html">Summary</a></li><li><a href="/~tvolkert/tmp/site/tutorials/stock-tracker.html">The "Stock Tracker" Application</a></li><li><a href="/~tvolkert/tmp/site/tutorials/stock-tracker.ui.html">UI Markup Using WTKX</a></li><li><a href="/~tvolkert/tmp/site/tutorials/stock-tracker.events.html">Event Handling</a></li><li><a href="/~tvolkert/tmp/site/tutorials/stock-tracker.web-queries.html">Web Queries</a></li><li><a href="/~tvolkert/tmp/site/tutorials/stock-tracker.data-binding.html">Data Binding</a></li><li><a href="/~tvolkert/tmp/site/tutorials/stock-tracker.localization.html">Localization</a></li><li><a href="/~tvolkert/tmp/site/tutorials/wtkx-primer.html">WTKX Primer</a></li></ul><div class="content"><!--NOTE: Syntax highlighting script is LGPL--><script src="http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js" type="text/javascript"></script><script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushJava.js" type="text/javascript"></script><script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushXml.js" type="text/javascript"></script><script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushJScript.js" type="text/javascript"></script><link href="http://alexgorbatchev.com/pub/sh/current/styles/shCore.css" rel="stylesheet" type="text/css"><link href="http://alexgorbatchev.com/pub/sh/current/styles/shThemeDefault.css" rel="stylesheet" type="text/css"><script type="text/javascript">
            SyntaxHighlighter.all();
        </script>
        <p>
            Forms are often used to collect related pieces of information from a user. For example,
            an application that manages a user's music collection might provide a form that allows
            the user to enter such information as song title, artist, and album name, and a content
            management system might provide a form that allows a user to specify the title, author,
            and publication date of an article.
        </p>

        <p>
            Form contents are commonly organized into sections, to make it easier for the user to
            read. A contact management application might use a form such as the one shown below to
            collect information about the user's contacts. The form is divided into four sections,
            one for each aspect of the contact record: name, addresses, phone numbers, and email
            addresses. Note the use of the <tt>&lt;Form.Section&gt;</tt> elements to define the
            sections; the <tt>Form</tt>'s skin automatically inserts
            <a href="separators.html">separators</a> to visually partition the section content and
            uses the <tt>Form.Section</tt> heading as the <tt>Separator</tt> heading:
        </p>

        <script src="http://java.com/js/deployJava.js" type="text/javascript"></script><script type="text/javascript">
            
            var attributes = {
                code:"org.apache.pivot.wtk.BrowserApplicationContext$HostApplet",
                width:"512",
                height:"384"
            };

            
            

            
            var libraries = [];
            libraries.push("/~tvolkert/tmp/site/lib/pivot-core-1.4.jar");
                libraries.push("/~tvolkert/tmp/site/lib/pivot-wtk-1.4.jar");
                libraries.push("/~tvolkert/tmp/site/lib/pivot-wtk-terra-1.4.jar");
                libraries.push("/~tvolkert/tmp/site/lib/pivot-tutorials-1.4.jar");
                
            attributes.archive = libraries.join(",");

            
            var parameters = {
                codebase_lookup:false,
                java_arguments:"-Dsun.awt.noerasebackground=true -Dsun.awt.erasebackgroundonresize=true",
                application_class_name:"org.apache.pivot.tutorials.layout.Forms"
            };

            
            

            deployJava.runApplet(attributes, parameters, "1.6");
        </script>

        <p>
            The WTKX for this example is shown below:
        </p>

        <pre class="brush:xml">
            
            &lt;Window title="Forms" maximized="true"
                xmlns:wtkx="http://pivot.apache.org/wtkx"
                xmlns="org.apache.pivot.wtk"&gt;
                &lt;content&gt;
                    &lt;Border styles="{padding:6}"&gt;
                        &lt;content&gt;
                            &lt;TablePane&gt;
                                &lt;columns&gt;
                                    &lt;TablePane.Column width="1*"/&gt;
                                &lt;/columns&gt;
                                &lt;rows&gt;
                                    &lt;TablePane.Row height="1*"&gt;
                                        &lt;Form styles="{rightAlignLabels:true}"&gt;
                                            &lt;sections&gt;
                                                &lt;Form.Section&gt;
                                                    &lt;BoxPane wtkx:id="nameBoxPane" Form.label="Name"&gt;
                                                        &lt;TextInput wtkx:id="lastNameTextInput" prompt="Last"/&gt;
                                                        &lt;TextInput wtkx:id="firstNameTextInput" prompt="First"/&gt;
                                                    &lt;/BoxPane&gt;
                                                &lt;/Form.Section&gt;
                                                &lt;Form.Section heading="Addresses"&gt;
                                                    &lt;BoxPane Form.label="Home" orientation="vertical"&gt;
                                                        &lt;TextInput prompt="Street" textSize="24"/&gt;
                                                        &lt;BoxPane&gt;
                                                            &lt;TextInput prompt="City"/&gt;
                                                            &lt;TextInput prompt="State" textSize="6"/&gt;
                                                            &lt;TextInput prompt="Zip" textSize="10"/&gt;
                                                        &lt;/BoxPane&gt;
                                                    &lt;/BoxPane&gt;
                                                    &lt;BoxPane Form.label="Work" orientation="vertical"&gt;
                                                        &lt;TextInput prompt="Street" textSize="24"/&gt;
                                                        &lt;BoxPane&gt;
                                                            &lt;TextInput prompt="City"/&gt;
                                                            &lt;TextInput prompt="State" textSize="6"/&gt;
                                                            &lt;TextInput prompt="Zip" textSize="10"/&gt;
                                                        &lt;/BoxPane&gt;
                                                    &lt;/BoxPane&gt;
                                                &lt;/Form.Section&gt;
                                                &lt;Form.Section heading="Phone Numbers"&gt;
                                                    &lt;TextInput Form.label="Home"/&gt;
                                                    &lt;TextInput Form.label="Work"/&gt;
                                                &lt;/Form.Section&gt;
                                                &lt;Form.Section heading="Email Addresses"&gt;
                                                    &lt;TextInput Form.label="Home"/&gt;
                                                    &lt;TextInput Form.label="Work"/&gt;
                                                &lt;/Form.Section&gt;
                                            &lt;/sections&gt;
                                        &lt;/Form&gt;
                                    &lt;/TablePane.Row&gt;
                                    &lt;TablePane.Row height="-1"&gt;
                                        &lt;Separator/&gt;
                                    &lt;/TablePane.Row&gt;
                                    &lt;TablePane.Row height="-1"&gt;
                                        &lt;TablePane&gt;
                                            &lt;columns&gt;
                                                &lt;TablePane.Column width="1*"/&gt;
                                                &lt;TablePane.Column width="-1"/&gt;
                                            &lt;/columns&gt;
                                            &lt;rows&gt;
                                                &lt;TablePane.Row&gt;
                                                    &lt;BoxPane styles="{verticalAlignment:'center'}"&gt;
                                                        &lt;Label wtkx:id="errorLabel" styles="{color:'#ff0000'}"/&gt;
                                                    &lt;/BoxPane&gt;
                                                    &lt;BoxPane styles="{horizontalAlignment:'right', verticalAlignment:'center'}"&gt;
                                                        &lt;PushButton wtkx:id="submitButton" buttonData="Submit"
                                                            styles="{minimumAspectRatio:3}"/&gt;
                                                    &lt;/BoxPane&gt;
                                                &lt;/TablePane.Row&gt;
                                            &lt;/rows&gt;
                                        &lt;/TablePane&gt;
                                    &lt;/TablePane.Row&gt;
                                &lt;/rows&gt;
                            &lt;/TablePane&gt;
                        &lt;/content&gt;
                    &lt;/Border&gt;
                &lt;/content&gt;
            &lt;/Window&gt;
            
        </pre>

        <p>
            Also note the use of the <tt>Form.label</tt> attribute - this is an example of an
            "attached property", also called an "attribute" in WTK. An attribute is a property that
            can be specified on a component only when it is a child of the container that defines
            the property. The same result can be achieved programmatically by calling the static
            <tt>Form.setName()</tt> method on a component after it has been added to the form.
            Several other containers, including <tt>TabPane</tt> and <tt>TablePane</tt>, define
            similar attributes.
        </p>

        <p>
            Note also that section components are not required to be typical form elements such as
            <tt>TextInput</tt> or <tt>PushButton</tt>. They can also be containers, allowing the
            arrangement of components within a section to be customized.
        </p>

        <h2>Form Validation</h2>
        <p>
            Pressing the "Submit" button performs some simple validation on the name fields,
            ensuring that the user has provided some text in each field. If either field is empty,
            an error message is displayed at the bottom of the form, and the row containing the
            text fields is highlighted with a red flag. This demonstrates the use of another
            <tt>Form</tt> attribute: the flag. A flag is an instance of <tt>Form.Flag</tt> that
            allows a user to tag a form element as requiring attention from the user. It is a
            simple class that contains a message type (error, warning, info, etc.) and a message.
            Mousing over the flag displays a tooltip containing the message.
        </p>

        <p>
            The button press handler in the code sample below shows how a flag is set on the name
            fields:
        </p>

        <pre class="brush:java">
            
            package org.apache.pivot.tutorials.layout;

            import org.apache.pivot.collections.Map;
            import org.apache.pivot.wtk.Application;
            import org.apache.pivot.wtk.Button;
            import org.apache.pivot.wtk.ButtonPressListener;
            import org.apache.pivot.wtk.DesktopApplicationContext;
            import org.apache.pivot.wtk.Display;
            import org.apache.pivot.wtk.BoxPane;
            import org.apache.pivot.wtk.Form;
            import org.apache.pivot.wtk.Label;
            import org.apache.pivot.wtk.MessageType;
            import org.apache.pivot.wtk.Prompt;
            import org.apache.pivot.wtk.PushButton;
            import org.apache.pivot.wtk.TextInput;
            import org.apache.pivot.wtk.Window;
            import org.apache.pivot.wtkx.WTKXSerializer;

            public class Forms implements Application {
                private Window window = null;
                private BoxPane nameBoxPane = null;
                private TextInput lastNameTextInput = null;
                private TextInput firstNameTextInput = null;
                private PushButton submitButton = null;
                private Label errorLabel = null;

                @Override
                public void startup(Display display, Map&lt;String, String&gt; properties) throws Exception {
                    WTKXSerializer wtkxSerializer = new WTKXSerializer();
                    window = (Window)wtkxSerializer.readObject(this, "forms.wtkx");
                    nameBoxPane = (BoxPane)wtkxSerializer.get("nameBoxPane");
                    lastNameTextInput = (TextInput)wtkxSerializer.get("lastNameTextInput");
                    firstNameTextInput = (TextInput)wtkxSerializer.get("firstNameTextInput");
                    submitButton = (PushButton)wtkxSerializer.get("submitButton");
                    errorLabel = (Label)wtkxSerializer.get("errorLabel");

                    submitButton.getButtonPressListeners().add(new ButtonPressListener() {
                        @Override
                        public void buttonPressed(Button button) {
                            String lastName = lastNameTextInput.getText();
                            String firstName = firstNameTextInput.getText();

                            Form.Flag flag = null;
                            if (lastName.length() == 0
                                || firstName.length() == 0) {
                                flag = new Form.Flag(MessageType.ERROR, "Name is required.");
                            }

                            Form.setFlag(nameBoxPane, flag);

                            if (flag == null) {
                                errorLabel.setText(null);
                                Prompt.prompt("Pretending to submit...", window);
                            } else {
                                errorLabel.setText("Some required information is missing.");
                            }
                        }
                    });

                    window.open(display);
                }

                @Override
                public boolean shutdown(boolean optional) {
                    if (window != null) {
                        window.close();
                    }

                    return false;
                }

                @Override
                public void suspend() {
                }

                @Override
                public void resume() {
                }

                public static void main(String[] args) {
                    DesktopApplicationContext.main(Forms.class, args);
                }
            }
            
        </pre>
    <p>Next: <a href="panels.html">Panels</a></p></div></div></div><div class="group" id="footer"><div class="footerLogo">Copyright (c) 1999-2010<br>The Apache Software Foundation.</div><div class="footerLinks"><ul class="footerMenuGr"><li><strong>Demos</strong><ul><li><a href="/~tvolkert/tmp/site/demos/kitchen-sink.html" target="_new">"Kitchen Sink"</a></li><li><a href="/~tvolkert/tmp/site/demos/component-explorer.html" target="_new">Component Explorer</a></li><li><a href="http://ixnay.biz/charts.html" target="_new">Charting</a></li><li><a href="/~tvolkert/tmp/site/demos/">More Demos</a></li></ul></li><li><strong>Documentation</strong><ul><li><a href="/~tvolkert/tmp/site/getting-started.html">Getting Started</a></li><li><a href="/~tvolkert/tmp/site/tutorials/">Tutorial</a></li><li><a href="http://cwiki.apache.org/PIVOT/frequently-asked-questions-faq.html">FAQ</a></li><li><a href="/~tvolkert/tmp/site/1.4/docs/api/">Javadoc (1.4)</a></li></ul></li><li><strong>Get Involved</strong><ul><li><a href="/~tvolkert/tmp/site/svn.html">SVN Repositories</a></li><li><a href="/~tvolkert/tmp/site/lists.html">Mailing Lists</a></li><li><a href="http://issues.apache.org/jira/browse/PIVOT/">Bug Database</a></li><li><a href="http://cwiki.apache.org/PIVOT/">Wiki</a></li></ul></li><li><strong>Related</strong><ul><li><a href="http://code.google.com/p/pivot-jfree/">JFreeChart Provider</a></li></ul></li><li><strong>About</strong><ul><li><a href="/~tvolkert/tmp/site/who-we-are.html">Who We Are</a></li><li><a href="/~tvolkert/tmp/site/contact.html">Contact</a></li><li><a href="/~tvolkert/tmp/site/news.html">News</a></li><li><a href="/~tvolkert/tmp/site/legal.html">Legal/License</a></li></ul></li></ul></div></div></div></body></html>